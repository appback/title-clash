version: '3.8'

services:
  titleclash-app:
    environment:
      # Secrets: replace these on the EC2 instance only (do NOT commit)
      - DATABASE_URL=${TITLECLASH_DATABASE_URL}
      - DATABASE_USER=${TITLECLASH_DATABASE_USER}
      - DATABASE_PASSWORD=${TITLECLASH_DATABASE_PASSWORD}
      - ADSENSE_PUBLISHER_ID=${ADSENSE_PUBLISHER_ID}
      - OAUTH_CLIENT_ID=${OAUTH_CLIENT_ID}
      - OAUTH_CLIENT_SECRET=${OAUTH_CLIENT_SECRET}
    secrets:
      - titleclash_db_password

secrets:
  titleclash_db_password:
    external: true
